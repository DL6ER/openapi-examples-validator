module.exports=function(r){var t={};function e(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return r[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}return e.m=r,e.c=t,e.d=function(r,t,n){e.o(r,t)||Object.defineProperty(r,t,{configurable:!1,enumerable:!0,get:n})},e.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(t,"a",t),t},e.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},e.p="",e(e.s=0)}([function(r,t,e){"use strict";var n=function(){return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function(r,t){var e=[],n=!0,a=!1,s=void 0;try{for(var o,u=r[Symbol.iterator]();!(n=(o=u.next()).done)&&(e.push(o.value),!t||e.length!==t);n=!0);}catch(r){a=!0,s=r}finally{try{!n&&u.return&&u.return()}finally{if(a)throw s}}return e}(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function a(r){if(Array.isArray(r)){for(var t=0,e=Array(r.length);t<r.length;t++)e[t]=r[t];return e}return Array.from(r)}var s=e(1),o=e(2),u=e(3),i=e(4),c=e(5),l=e(6).custom.createError,p="schema",f="examples",h="$.."+f+".application/json",m="Validation",v=l("JsonPathNotFound");function d(r){return function(r,t){var e=b(),n=function(r){return r.reduce(function(r,t){var e=function(r){var t=i.toPathArray(r).slice(),e=t.lastIndexOf(f);return t.splice(e,t.length-e,p),i.toPathString(t)}(t);return r[e]=t,r},{})}(r),s=Object.keys(n),o=g({schemaPaths:s}),u={valid:!0,statistics:o,errors:[]};return s.forEach(function(r){var s=u.errors,c=n[r],l=P(c,t),p=E(r,t,!0),f=O({validator:e,responseSchema:p,example:l,statistics:o}).map(function(r){return r.examplePath=i.toPointer(i.toPathArray(c)),r});f.length&&(u.valid=!1,s.splice.apply(s,[s.length-1,0].concat(a(f))))}),u}(function(r){return i({json:r,path:h,resultType:"path"})}(r),r)}function y(r,t){var e=g({schemaPaths:r});return S({errors:t(e),statistics:e})}function x(r){var t=r.code,e=r.message,n=r.path,a=r.cause,o=t||r.type||m,u={type:o,message:e};return m===o?s.merge(u,r):(n&&s.merge(u,{params:{path:n}}),a&&s.merge(u,a)),u}function S(r){var t=r.errors,e=r.statistics,n=void 0===e?{}:e;return{valid:!t.length,statistics:n,errors:t}}function g(r){return{responseSchemasWithExamples:r.schemaPaths.length,responseExamplesTotal:0,responseExamplesWithoutSchema:0}}function P(r,t){return i({json:t,path:r,flatten:!0,wrap:!1,resultType:"value"})}function O(r){var t=r.validator,e=r.responseSchema,n=r.example,s=r.statistics,o=[];return s.responseExamplesTotal++,e?t.validate(e,n)?o:o.concat.apply(o,a(t.errors.map(x))):(s.responseSchemasWithExamples--,s.responseExamplesWithoutSchema++,o)}function b(){return new c({allErrors:!0})}function E(r,t){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=P(r,t);if(!e&&!n)throw new v("Path to response-schema can't be found: '"+r+"'",{params:{path:r}});return n}r.exports={default:d,validateFile:function(r){var t=null;try{t=JSON.parse(o.readFileSync(r,"utf-8"))}catch(r){return S({errors:[x(r)]})}return d(t)},validateExample:function(r,t,e){var n=null,a=null,s=null;try{n=JSON.parse(o.readFileSync(e,"utf-8")),s=JSON.parse(o.readFileSync(r,"utf-8")),a=E(t,s)}catch(r){return S({errors:[x(r)]})}return y([t],function(r){return O({validator:b(),responseSchema:a,example:n,statistics:r}).map(function(r){return r.exampleFilePath=e,r})})},validateExamplesByMap:function(r,t){var e=0,a=u.sync(t,{nonull:!0}).map(function(t){var a=null,u=null;try{a=JSON.parse(o.readFileSync(t,"utf-8")),u=JSON.parse(o.readFileSync(r,"utf-8"))}catch(r){return S({errors:[x(r)]})}return e++,y(Object.keys(a),function(r){return function(r,t,e){return s(t).entries().flatMap(function(t){var a=n(t,2),u=a[0],i=a[1],c=null;try{c=E(u,r)}catch(r){return x(r)}return s([i]).flatten().flatMap(function(r){var t=null;try{t=JSON.parse(o.readFileSync(r,"utf-8"))}catch(r){return x(r)}return O({validator:b(),responseSchema:c,example:t,statistics:e}).map(function(t){return t.exampleFilePath=r,t})}).value()}).value()}(u,a,r).map(function(r){return Object.assign(r,{mapFilePath:t})})})});return s.merge(a.reduce(function(r,t){return r?(a=t,S({errors:(e=r).errors.concat(a.errors),statistics:s.entries(e.statistics).reduce(function(r,t){var e=n(t,2),s=e[0],o=e[1];return r[s]=o+a.statistics[s],r},{})})):t;var e,a},null),{statistics:{matchingFilePathsMapping:e}})}}},function(r,t){r.exports=require("lodash")},function(r,t){r.exports=require("fs")},function(r,t){r.exports=require("glob")},function(r,t){r.exports=require("jsonpath-plus")},function(r,t){r.exports=require("ajv")},function(r,t){r.exports=require("errno")}]);